{% extends 'chat/base.html' %}
{% load static %}

{% block content %}
<!-- Messages -->
<div class="msg-container" id='message-container'>
</div>



<!-- User input form -->
<form onsubmit="return false">
    <div class="input-group p-4 fixed-bottom">
        <input type="text" id="input-text" class="form-control" placeholder="Hello Voithos..." autocomplete="off">
        <div class="input-group-append">
            <button class='btn btn-light btn-outline-secondary' id="submit-button" type='submit'><i
                    class='fa fa-reply'></i></button>
        </div>
    </div>
</form>

<!-- Response feedback modal -->
<div class="modal fade" id="feedback-modal" tabindex="-1" role="dialog" aria-labelledby="responseFeedbackModal"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="responseFeedbackModal">Response Feedback</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <select id="command-choices" class="form-control">
                    <option value="" selected disabled hidden>What command were you trying to use?</option>
                    {% for cmd in cmd_names %}
                    <option value={{ cmd }}>{{ cmd }}</option>
                    {% endfor %}
                </select>
                <br>
                <small class='text-muted'>Your feedback helps Voithos learn! Report incorrect responses to train
                    Voithos' language understanding engine.</small>
                <div id="response-input" hidden></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" id="feedback-submit" class="btn btn-primary" data-dismiss="modal" disabled>Submit
                    Feedback</button>
            </div>

        </div>
    </div>
</div>

<script src='{% static "chat/js/chat.js" %}'></script>
{% endblock %}